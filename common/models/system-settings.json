{
  "name": "systemSettings",
  "base": "extendedPersistedModel",
  "idInjection": true,
  "options": {
    "validateUpsert": true
  },
  "hidden": [
    "id"
  ],
  "properties": {
    "upstreamServer": {
      "type": "upstreamServer"
    },
    "clientApplications": {
      "type": [
        {
          "type": "clientApplication"
        }
      ]
    },
    "dataBackup": {
      "type": "dataBackup"
    },
    "nodeFields": {
      "type": ["string"]
    },
    "relationFields": {
      "type": ["string"]
    }
  },
  "validations": [],
  "relations": {},
  "acls": [
    {
      "principalType": "ROLE",
      "principalId": "$everyone",
      "permission": "DENY"
    },
    {
      "principalType": "ROLE",
      "principalId": "read_sys_config",
      "permission": "ALLOW",
      "property": "getSystemSettings"
    },
    {
      "principalType": "ROLE",
      "principalId": "write_sys_config",
      "permission": "ALLOW",
      "property": "updateSystemSettings"
    },
    {
      "principalType": "ROLE",
      "principalId": "$authenticated",
      "permission": "ALLOW",
      "property": "generateUniqueId"
    }
  ],
  "methods": {
    "getSystemSettings": {
      "accepts": [],
      "returns": [
        {
          "arg": "systemSettings",
          "type": "systemSettings",
          "root": true,
          "required": true
        }
      ],
      "description": "Return System Settings",
      "http": {
        "verb": "get",
        "path": "/"
      }
    },
    "updateSystemSettings": {
      "accepts": [
        {
          "arg": "data",
          "type": "object",
          "model": "systemSettings",
          "description": "Model instance data",
          "http": {
            "source": "body"
          },
          "root": true,
          "required": true
        }
      ],
      "returns": [
        {
          "arg": "systemSettings",
          "type": "systemSettings",
          "root": true,
          "required": true
        }
      ],
      "description": "Update System Settings",
      "http": {
        "verb": "put",
        "path": "/"
      }
    },
    "generateUniqueId": {
      "accepts": [],
      "returns": [
        {
          "arg": "uniqueId",
          "type": {
            "uuid": {
              "type": "string"
            }
          },
          "description": "Unique ID",
          "root": true,
          "required": true
        }
      ],
      "description": "Generates a globally unique ID (UUID).",
      "http": {
        "verb": "post",
        "path": "/generate-unique-id"
      }
    }
  }
}
